<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
    <title>ZpoStrona - System dla Studenta</title>
</head>
<body>
<header>
    <div class="header-content">
        <div class="logo">ZpoStrona</div>
        <div class="user-info" id="userInfo" style="display: none;">
            <span class="status-indicator status-active"></span>
            <span>Zalogowany jako Student</span>
            <span id="currentAlbum"></span>
            <button class="logout-button" onclick="showLogoutConfirmation()">Wyloguj</button>
        </div>
    </div>
</header>

<div class="container">
    <!-- Sekcja logowania -->
    <div class="login-section" id="loginSection">
        <div class="card">
            <h2 class="section-title">Logowanie do systemu</h2>

            <!-- Komunikaty -->
            <div id="errorMessage" class="error-message" style="display: none;"></div>
            <div id="successMessage" class="success-message" style="display: none;"></div>

            <form id="loginForm">
                <div class="form-group">
                    <label for="albumNumber">Numer albumu:</label>
                    <input type="text" id="albumNumber" placeholder="Wprowad≈∫ 6-cyfrowy numer albumu" maxlength="6" required>
                    <div class="validation-info">Numer albumu musi sk≈Çadaƒá siƒô z dok≈Çadnie 6 cyfr</div>
                </div>
                <button type="submit" class="button" id="loginButton">
                    <span id="loginButtonText">Zaloguj siƒô</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Sekcja obecno≈õci -->
    <div class="attendance-section" id="attendanceSection">
        <button class="button back-button" onclick="showLogin()">‚Üê Powr√≥t do logowania</button>

        <div class="welcome-message" id="welcomeMessage"></div>

        <!-- Statystyki obecno≈õci -->
        <div class="stats-row" id="statsRow">
            <div class="stat-card">
                <div class="stat-number stat-total" id="totalCount">0</div>
                <div class="stat-label">≈ÅƒÖcznie</div>
            </div>
            <div class="stat-card">
                <div class="stat-number stat-present" id="presentCount">0</div>
                <div class="stat-label">Obecnych</div>
            </div>
            <div class="stat-card">
                <div class="stat-number stat-late" id="lateCount">0</div>
                <div class="stat-label">Sp√≥≈∫nie≈Ñ</div>
            </div>
            <div class="stat-card">
                <div class="stat-number stat-absent" id="absentCount">0</div>
                <div class="stat-label">Nieobecnych</div>
            </div>
        </div>

        <div class="card">
            <h2 class="section-title">Moje obecno≈õci</h2>
            <div class="attendance-grid" id="attendanceGrid">
                <!-- Obecno≈õci bƒôdƒÖ generowane dynamicznie -->
            </div>
        </div>
    </div>
</div>

<!-- Dialog potwierdzenia wylogowania -->
<div id="logoutConfirmation" class="logout-confirmation" style="display: none;">
    <div class="logout-dialog">
        <h3>üö™ Potwierdzenie wylogowania</h3>
        <p>Czy na pewno chcesz siƒô wylogowaƒá? Zostaniesz przekierowany do strony logowania.</p>
        <div class="logout-dialog-buttons">
            <button class="confirm-logout" onclick="confirmLogout()">Tak, wyloguj</button>
            <button class="cancel-logout" onclick="cancelLogout()">Anuluj</button>
        </div>
    </div>
</div>
</body>
</html>